<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="twitter:card" content="summary_large_image" /><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Title | Data Notebooks</title>
<meta name="generator" content="Jekyll v4.1.1" />
<meta property="og:title" content="Title" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="blogging with jupyter notebooks" />
<meta property="og:description" content="blogging with jupyter notebooks" />
<link rel="canonical" href="https://sra00.github.io/notebookposts/2021/11/06/ML1.html" />
<meta property="og:url" content="https://sra00.github.io/notebookposts/2021/11/06/ML1.html" />
<meta property="og:site_name" content="Data Notebooks" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-11-06T00:00:00-05:00" />
<script type="application/ld+json">
{"datePublished":"2021-11-06T00:00:00-05:00","url":"https://sra00.github.io/notebookposts/2021/11/06/ML1.html","@type":"BlogPosting","headline":"Title","dateModified":"2021-11-06T00:00:00-05:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://sra00.github.io/notebookposts/2021/11/06/ML1.html"},"description":"blogging with jupyter notebooks","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/notebookposts/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="https://sra00.github.io/notebookposts/feed.xml" title="Data Notebooks" /><link rel="shortcut icon" type="image/x-icon" href="/notebookposts/images/favicon.ico"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Primer/15.2.0/primer.css" integrity="sha512-xTz2ys4coGAOz8vuV1NcQBkgVmKhsSEtjbqyMJbBHRplFuvKIUo6xhLHpAyPt9mfR6twHJgn9OgVLuqOvjeBhg==" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css" integrity="sha512-1PKOgIY59xJ8Co8+NE6FZ+LOAZKjy+KY8iq0G4B3CyeY6wYHN3yt9PW0XpSriVlkMXe40PTKnXrLnZ9+fkDaog==" crossorigin="anonymous" />

<script>
function wrap_img(fn) {
    if (document.attachEvent ? document.readyState === "complete" : document.readyState !== "loading") {
        var elements = document.querySelectorAll(".post img");
        Array.prototype.forEach.call(elements, function(el, i) {
            if (el.getAttribute("title") && (el.className != "emoji")) {
                const caption = document.createElement('figcaption');
                var node = document.createTextNode(el.getAttribute("title"));
                caption.appendChild(node);
                const wrapper = document.createElement('figure');
                wrapper.className = 'image';
                el.parentNode.insertBefore(wrapper, el);
                el.parentNode.removeChild(el);
                wrapper.appendChild(el);
                wrapper.appendChild(caption);
            }
        });
    } else { document.addEventListener('DOMContentLoaded', fn); }
}
window.onload = wrap_img;
</script>

<script>
    document.addEventListener("DOMContentLoaded", function(){
    // add link icon to anchor tags
    var elem = document.querySelectorAll(".anchor-link")
    elem.forEach(e => (e.innerHTML = '<i class="fas fa-link fa-xs"></i>'));
    });
</script>
</head>
<body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/notebookposts/">Data Notebooks</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/notebookposts/about/">About Me</a><a class="page-link" href="/notebookposts/search/">Search</a><a class="page-link" href="/notebookposts/categories/">Tags</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Title</h1><p class="post-meta post-meta-title"><time class="dt-published" datetime="2021-11-06T00:00:00-05:00" itemprop="datePublished">
        Nov 6, 2021
      </time>
       • <span class="read-time" title="Estimated read time">
    
    
      11 min read
    
</span></p>

    

    
      
        <div class="pb-5 d-flex flex-wrap flex-justify-end">
          <div class="px-2">

    <a href="https://github.com/sra00/notebookposts/tree/master/_notebooks/ML1.ipynb" role="button" target="_blank">
<img class="notebook-badge-image" src="/notebookposts/assets/badges/github.svg" alt="View On GitHub">
    </a>
</div>

          <div class="px-2">
    <a href="https://mybinder.org/v2/gh/sra00/notebookposts/master?filepath=_notebooks%2FML1.ipynb" target="_blank">
        <img class="notebook-badge-image" src="/notebookposts/assets/badges/binder.svg" alt="Open In Binder"/>
    </a>
</div>

          <div class="px-2">
    <a href="https://colab.research.google.com/github/sra00/notebookposts/blob/master/_notebooks/ML1.ipynb" target="_blank">
        <img class="notebook-badge-image" src="/notebookposts/assets/badges/colab.svg" alt="Open In Colab"/>
    </a>
</div>
        </div>
      </header>

  <div class="post-content e-content" itemprop="articleBody">
    <!--
#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: _notebooks/ML1.ipynb
-->

<div class="container" id="notebook-container">
        
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%</span><span class="k">load_ext</span> autoreload
<span class="o">%</span><span class="k">autoreload</span> 2
<span class="o">%</span><span class="k">matplotlib</span> inline
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span> 
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">fastai.imports</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">fastai.tabular</span>  <span class="kn">import</span> <span class="o">*</span>
<span class="kn">import</span> <span class="nn">fastai.tabular.core</span> 
<span class="kn">from</span> <span class="nn">fastai.data.all</span> <span class="kn">import</span> <span class="o">*</span>


<span class="kn">import</span> <span class="nn">fastai.torch_core</span>

<span class="kn">from</span> <span class="nn">pandas_summary</span> <span class="kn">import</span> <span class="n">DataFrameSummary</span>
<span class="kn">from</span> <span class="nn">sklearn.ensemble</span> <span class="kn">import</span> <span class="n">RandomForestRegressor</span><span class="p">,</span> <span class="n">RandomForestClassifier</span>
<span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">display</span>

<span class="kn">from</span> <span class="nn">sklearn</span> <span class="kn">import</span> <span class="n">metrics</span>

<span class="kn">from</span> <span class="nn">pandas</span> <span class="kn">import</span> <span class="n">DatetimeIndex</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%</span><span class="k">load</span> &quot;fastai/structured.py&quot;
<span class="o">%</span><span class="k">run</span> &quot;fastai/structured.py&quot;
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">PATH</span> <span class="o">=</span> <span class="s2">&quot;data/bulldozers/&quot;</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="p">{</span><span class="n">PATH</span><span class="p">}</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>{&#39;data/bulldozers/&#39;}</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_raw</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">PATH</span><span class="si">}</span><span class="s1">Train.csv&#39;</span><span class="p">,</span><span class="n">low_memory</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span><span class="n">parse_dates</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;saledate&quot;</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_raw</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>SalesID</th>
      <th>SalePrice</th>
      <th>MachineID</th>
      <th>ModelID</th>
      <th>datasource</th>
      <th>auctioneerID</th>
      <th>YearMade</th>
      <th>MachineHoursCurrentMeter</th>
      <th>UsageBand</th>
      <th>saledate</th>
      <th>...</th>
      <th>Undercarriage_Pad_Width</th>
      <th>Stick_Length</th>
      <th>Thumb</th>
      <th>Pattern_Changer</th>
      <th>Grouser_Type</th>
      <th>Backhoe_Mounting</th>
      <th>Blade_Type</th>
      <th>Travel_Controls</th>
      <th>Differential_Type</th>
      <th>Steering_Controls</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1139246</td>
      <td>66000</td>
      <td>999089</td>
      <td>3157</td>
      <td>121</td>
      <td>3.0</td>
      <td>2004</td>
      <td>68.0</td>
      <td>Low</td>
      <td>2006-11-16</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>Standard</td>
      <td>Conventional</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1139248</td>
      <td>57000</td>
      <td>117657</td>
      <td>77</td>
      <td>121</td>
      <td>3.0</td>
      <td>1996</td>
      <td>4640.0</td>
      <td>Low</td>
      <td>2004-03-26</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>Standard</td>
      <td>Conventional</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1139249</td>
      <td>10000</td>
      <td>434808</td>
      <td>7009</td>
      <td>121</td>
      <td>3.0</td>
      <td>2001</td>
      <td>2838.0</td>
      <td>High</td>
      <td>2004-02-26</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1139251</td>
      <td>38500</td>
      <td>1026470</td>
      <td>332</td>
      <td>121</td>
      <td>3.0</td>
      <td>2001</td>
      <td>3486.0</td>
      <td>High</td>
      <td>2011-05-19</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1139253</td>
      <td>11000</td>
      <td>1057373</td>
      <td>17311</td>
      <td>121</td>
      <td>3.0</td>
      <td>2007</td>
      <td>722.0</td>
      <td>Medium</td>
      <td>2009-07-23</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>401120</th>
      <td>6333336</td>
      <td>10500</td>
      <td>1840702</td>
      <td>21439</td>
      <td>149</td>
      <td>1.0</td>
      <td>2005</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2011-11-02</td>
      <td>...</td>
      <td>None or Unspecified</td>
      <td>None or Unspecified</td>
      <td>None or Unspecified</td>
      <td>None or Unspecified</td>
      <td>Double</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>401121</th>
      <td>6333337</td>
      <td>11000</td>
      <td>1830472</td>
      <td>21439</td>
      <td>149</td>
      <td>1.0</td>
      <td>2005</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2011-11-02</td>
      <td>...</td>
      <td>None or Unspecified</td>
      <td>None or Unspecified</td>
      <td>None or Unspecified</td>
      <td>None or Unspecified</td>
      <td>Double</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>401122</th>
      <td>6333338</td>
      <td>11500</td>
      <td>1887659</td>
      <td>21439</td>
      <td>149</td>
      <td>1.0</td>
      <td>2005</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2011-11-02</td>
      <td>...</td>
      <td>None or Unspecified</td>
      <td>None or Unspecified</td>
      <td>None or Unspecified</td>
      <td>None or Unspecified</td>
      <td>Double</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>401123</th>
      <td>6333341</td>
      <td>9000</td>
      <td>1903570</td>
      <td>21435</td>
      <td>149</td>
      <td>2.0</td>
      <td>2005</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2011-10-25</td>
      <td>...</td>
      <td>None or Unspecified</td>
      <td>None or Unspecified</td>
      <td>None or Unspecified</td>
      <td>None or Unspecified</td>
      <td>Double</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>401124</th>
      <td>6333342</td>
      <td>7750</td>
      <td>1926965</td>
      <td>21435</td>
      <td>149</td>
      <td>2.0</td>
      <td>2005</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2011-10-25</td>
      <td>...</td>
      <td>None or Unspecified</td>
      <td>None or Unspecified</td>
      <td>None or Unspecified</td>
      <td>None or Unspecified</td>
      <td>Double</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
<p>401125 rows × 53 columns</p>
</div>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#log(x) is natural logarithm of x - logs is a simpler way o express larges values</span>

<span class="n">df_raw</span><span class="p">[</span><span class="s1">&#39;SalePrice&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span> <span class="n">log</span><span class="p">(</span><span class="n">df_raw</span><span class="o">.</span><span class="n">SalePrice</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_raw</span><span class="o">.</span><span class="n">SalePrice</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>0         11.097410
1         10.950807
2          9.210340
3         10.558414
4          9.305651
            ...    
401120     9.259131
401121     9.305651
401122     9.350102
401123     9.104980
401124     8.955448
Name: SalePrice, Length: 401125, dtype: float64</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_raw</span><span class="o">.</span><span class="n">saledate</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>0   2006-11-16
1   2004-03-26
2   2004-02-26
3   2011-05-19
4   2009-07-23
Name: saledate, dtype: datetime64[ns]</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span> 
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">fld</span> <span class="o">=</span>  <span class="n">df_raw</span><span class="o">.</span><span class="n">saledate</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span> 
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># df_raw[&#39;saleYear&#39;] = df_raw[&#39;saledate&#39;].dt.year</span>
<span class="c1"># df_raw[&#39;saleMonth&#39;] = df_raw[&#39;saledate&#39;].dt.month</span>
<span class="c1"># df_raw[&#39;saleWeek&#39;] = df_raw[&#39;saledate&#39;].dt.week</span>
<span class="c1"># df_raw[&#39;saleDay&#39;] = df_raw[&#39;saledate&#39;].dt.day</span>

<span class="c1"># Series.dt.isocalendar().week </span>
<span class="c1"># df_raw = df_raw.drop(&#39;saleYear&#39;, 1)</span>
<span class="c1">#df_raw.columns</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">fastai</span><span class="o">.</span><span class="n">tabular</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">add_datepart</span><span class="p">(</span><span class="n">df_raw</span><span class="p">,</span><span class="s1">&#39;saledate&#39;</span><span class="p">)</span>
<span class="n">df_raw</span><span class="o">.</span><span class="n">saleYear</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>0    2006
1    2004
2    2004
3    2011
4    2009
Name: saleYear, dtype: int64</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_raw</span><span class="o">.</span><span class="n">columns</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>Index([&#39;SalesID&#39;, &#39;SalePrice&#39;, &#39;MachineID&#39;, &#39;ModelID&#39;, &#39;datasource&#39;,
       &#39;auctioneerID&#39;, &#39;YearMade&#39;, &#39;MachineHoursCurrentMeter&#39;, &#39;UsageBand&#39;,
       &#39;fiModelDesc&#39;, &#39;fiBaseModel&#39;, &#39;fiSecondaryDesc&#39;, &#39;fiModelSeries&#39;,
       &#39;fiModelDescriptor&#39;, &#39;ProductSize&#39;, &#39;fiProductClassDesc&#39;, &#39;state&#39;,
       &#39;ProductGroup&#39;, &#39;ProductGroupDesc&#39;, &#39;Drive_System&#39;, &#39;Enclosure&#39;,
       &#39;Forks&#39;, &#39;Pad_Type&#39;, &#39;Ride_Control&#39;, &#39;Stick&#39;, &#39;Transmission&#39;,
       &#39;Turbocharged&#39;, &#39;Blade_Extension&#39;, &#39;Blade_Width&#39;, &#39;Enclosure_Type&#39;,
       &#39;Engine_Horsepower&#39;, &#39;Hydraulics&#39;, &#39;Pushblock&#39;, &#39;Ripper&#39;, &#39;Scarifier&#39;,
       &#39;Tip_Control&#39;, &#39;Tire_Size&#39;, &#39;Coupler&#39;, &#39;Coupler_System&#39;,
       &#39;Grouser_Tracks&#39;, &#39;Hydraulics_Flow&#39;, &#39;Track_Type&#39;,
       &#39;Undercarriage_Pad_Width&#39;, &#39;Stick_Length&#39;, &#39;Thumb&#39;, &#39;Pattern_Changer&#39;,
       &#39;Grouser_Type&#39;, &#39;Backhoe_Mounting&#39;, &#39;Blade_Type&#39;, &#39;Travel_Controls&#39;,
       &#39;Differential_Type&#39;, &#39;Steering_Controls&#39;, &#39;saleYear&#39;, &#39;saleMonth&#39;,
       &#39;saleWeek&#39;, &#39;saleDay&#39;, &#39;saleDayofweek&#39;, &#39;saleDayofyear&#39;,
       &#39;saleIs_month_end&#39;, &#39;saleIs_month_start&#39;, &#39;saleIs_quarter_end&#39;,
       &#39;saleIs_quarter_start&#39;, &#39;saleIs_year_end&#39;, &#39;saleIs_year_start&#39;,
       &#39;saleElapsed&#39;],
      dtype=&#39;object&#39;)</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="n">RandomForestRegressor</span><span class="p">(</span><span class="n">n_jobs</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">df_raw</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">&#39;SalePrice&#39;</span><span class="p">,</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span> <span class="n">df_raw</span><span class="o">.</span><span class="n">SalePrice</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_text output_error">
<pre>
<span class="ansi-red-intense-fg ansi-bold">---------------------------------------------------------------------------</span>
<span class="ansi-red-intense-fg ansi-bold">ValueError</span>                                Traceback (most recent call last)
<span class="ansi-green-intense-fg ansi-bold">&lt;ipython-input-82-bc6c00665d73&gt;</span> in <span class="ansi-cyan-fg">&lt;module&gt;</span>
<span class="ansi-green-fg">      1</span> <span class="ansi-red-intense-fg ansi-bold">#Apply Randon Forest</span>
<span class="ansi-green-fg">      2</span> m <span class="ansi-yellow-intense-fg ansi-bold">=</span> RandomForestRegressor<span class="ansi-yellow-intense-fg ansi-bold">(</span>n_jobs <span class="ansi-yellow-intense-fg ansi-bold">=</span> <span class="ansi-yellow-intense-fg ansi-bold">-</span><span class="ansi-cyan-intense-fg ansi-bold">1</span><span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-intense-fg ansi-bold">----&gt; 3</span><span class="ansi-yellow-intense-fg ansi-bold"> </span>m<span class="ansi-yellow-intense-fg ansi-bold">.</span>fit<span class="ansi-yellow-intense-fg ansi-bold">(</span>df_raw<span class="ansi-yellow-intense-fg ansi-bold">.</span>drop<span class="ansi-yellow-intense-fg ansi-bold">(</span><span class="ansi-blue-intense-fg ansi-bold">&#39;SalePrice&#39;</span><span class="ansi-yellow-intense-fg ansi-bold">,</span>axis<span class="ansi-yellow-intense-fg ansi-bold">=</span><span class="ansi-cyan-intense-fg ansi-bold">1</span><span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">,</span> df_raw<span class="ansi-yellow-intense-fg ansi-bold">.</span>SalePrice<span class="ansi-yellow-intense-fg ansi-bold">)</span>

<span class="ansi-green-intense-fg ansi-bold">C:\Programs\Python\Python39\lib\site-packages\sklearn\ensemble\_forest.py</span> in <span class="ansi-cyan-fg">fit</span><span class="ansi-blue-intense-fg ansi-bold">(self, X, y, sample_weight)</span>
<span class="ansi-green-fg">    302</span>                 <span class="ansi-blue-intense-fg ansi-bold">&#34;sparse multilabel-indicator for y is not supported.&#34;</span>
<span class="ansi-green-fg">    303</span>             )
<span class="ansi-green-intense-fg ansi-bold">--&gt; 304</span><span class="ansi-yellow-intense-fg ansi-bold">         X, y = self._validate_data(X, y, multi_output=True,
</span><span class="ansi-green-fg">    305</span>                                    accept_sparse=&#34;csc&#34;, dtype=DTYPE)
<span class="ansi-green-fg">    306</span>         <span class="ansi-green-intense-fg ansi-bold">if</span> sample_weight <span class="ansi-green-intense-fg ansi-bold">is</span> <span class="ansi-green-intense-fg ansi-bold">not</span> <span class="ansi-green-intense-fg ansi-bold">None</span><span class="ansi-yellow-intense-fg ansi-bold">:</span>

<span class="ansi-green-intense-fg ansi-bold">C:\Programs\Python\Python39\lib\site-packages\sklearn\base.py</span> in <span class="ansi-cyan-fg">_validate_data</span><span class="ansi-blue-intense-fg ansi-bold">(self, X, y, reset, validate_separately, **check_params)</span>
<span class="ansi-green-fg">    431</span>                 y <span class="ansi-yellow-intense-fg ansi-bold">=</span> check_array<span class="ansi-yellow-intense-fg ansi-bold">(</span>y<span class="ansi-yellow-intense-fg ansi-bold">,</span> <span class="ansi-yellow-intense-fg ansi-bold">**</span>check_y_params<span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">    432</span>             <span class="ansi-green-intense-fg ansi-bold">else</span><span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-intense-fg ansi-bold">--&gt; 433</span><span class="ansi-yellow-intense-fg ansi-bold">                 </span>X<span class="ansi-yellow-intense-fg ansi-bold">,</span> y <span class="ansi-yellow-intense-fg ansi-bold">=</span> check_X_y<span class="ansi-yellow-intense-fg ansi-bold">(</span>X<span class="ansi-yellow-intense-fg ansi-bold">,</span> y<span class="ansi-yellow-intense-fg ansi-bold">,</span> <span class="ansi-yellow-intense-fg ansi-bold">**</span>check_params<span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">    434</span>             out <span class="ansi-yellow-intense-fg ansi-bold">=</span> X<span class="ansi-yellow-intense-fg ansi-bold">,</span> y
<span class="ansi-green-fg">    435</span> 

<span class="ansi-green-intense-fg ansi-bold">C:\Programs\Python\Python39\lib\site-packages\sklearn\utils\validation.py</span> in <span class="ansi-cyan-fg">inner_f</span><span class="ansi-blue-intense-fg ansi-bold">(*args, **kwargs)</span>
<span class="ansi-green-fg">     61</span>             extra_args <span class="ansi-yellow-intense-fg ansi-bold">=</span> len<span class="ansi-yellow-intense-fg ansi-bold">(</span>args<span class="ansi-yellow-intense-fg ansi-bold">)</span> <span class="ansi-yellow-intense-fg ansi-bold">-</span> len<span class="ansi-yellow-intense-fg ansi-bold">(</span>all_args<span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">     62</span>             <span class="ansi-green-intense-fg ansi-bold">if</span> extra_args <span class="ansi-yellow-intense-fg ansi-bold">&lt;=</span> <span class="ansi-cyan-intense-fg ansi-bold">0</span><span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-intense-fg ansi-bold">---&gt; 63</span><span class="ansi-yellow-intense-fg ansi-bold">                 </span><span class="ansi-green-intense-fg ansi-bold">return</span> f<span class="ansi-yellow-intense-fg ansi-bold">(</span><span class="ansi-yellow-intense-fg ansi-bold">*</span>args<span class="ansi-yellow-intense-fg ansi-bold">,</span> <span class="ansi-yellow-intense-fg ansi-bold">**</span>kwargs<span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">     64</span> 
<span class="ansi-green-fg">     65</span>             <span class="ansi-red-intense-fg ansi-bold"># extra_args &gt; 0</span>

<span class="ansi-green-intense-fg ansi-bold">C:\Programs\Python\Python39\lib\site-packages\sklearn\utils\validation.py</span> in <span class="ansi-cyan-fg">check_X_y</span><span class="ansi-blue-intense-fg ansi-bold">(X, y, accept_sparse, accept_large_sparse, dtype, order, copy, force_all_finite, ensure_2d, allow_nd, multi_output, ensure_min_samples, ensure_min_features, y_numeric, estimator)</span>
<span class="ansi-green-fg">    869</span>         <span class="ansi-green-intense-fg ansi-bold">raise</span> ValueError<span class="ansi-yellow-intense-fg ansi-bold">(</span><span class="ansi-blue-intense-fg ansi-bold">&#34;y cannot be None&#34;</span><span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">    870</span> 
<span class="ansi-green-intense-fg ansi-bold">--&gt; 871</span><span class="ansi-yellow-intense-fg ansi-bold">     X = check_array(X, accept_sparse=accept_sparse,
</span><span class="ansi-green-fg">    872</span>                     accept_large_sparse<span class="ansi-yellow-intense-fg ansi-bold">=</span>accept_large_sparse<span class="ansi-yellow-intense-fg ansi-bold">,</span>
<span class="ansi-green-fg">    873</span>                     dtype<span class="ansi-yellow-intense-fg ansi-bold">=</span>dtype<span class="ansi-yellow-intense-fg ansi-bold">,</span> order<span class="ansi-yellow-intense-fg ansi-bold">=</span>order<span class="ansi-yellow-intense-fg ansi-bold">,</span> copy<span class="ansi-yellow-intense-fg ansi-bold">=</span>copy<span class="ansi-yellow-intense-fg ansi-bold">,</span>

<span class="ansi-green-intense-fg ansi-bold">C:\Programs\Python\Python39\lib\site-packages\sklearn\utils\validation.py</span> in <span class="ansi-cyan-fg">inner_f</span><span class="ansi-blue-intense-fg ansi-bold">(*args, **kwargs)</span>
<span class="ansi-green-fg">     61</span>             extra_args <span class="ansi-yellow-intense-fg ansi-bold">=</span> len<span class="ansi-yellow-intense-fg ansi-bold">(</span>args<span class="ansi-yellow-intense-fg ansi-bold">)</span> <span class="ansi-yellow-intense-fg ansi-bold">-</span> len<span class="ansi-yellow-intense-fg ansi-bold">(</span>all_args<span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">     62</span>             <span class="ansi-green-intense-fg ansi-bold">if</span> extra_args <span class="ansi-yellow-intense-fg ansi-bold">&lt;=</span> <span class="ansi-cyan-intense-fg ansi-bold">0</span><span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-intense-fg ansi-bold">---&gt; 63</span><span class="ansi-yellow-intense-fg ansi-bold">                 </span><span class="ansi-green-intense-fg ansi-bold">return</span> f<span class="ansi-yellow-intense-fg ansi-bold">(</span><span class="ansi-yellow-intense-fg ansi-bold">*</span>args<span class="ansi-yellow-intense-fg ansi-bold">,</span> <span class="ansi-yellow-intense-fg ansi-bold">**</span>kwargs<span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">     64</span> 
<span class="ansi-green-fg">     65</span>             <span class="ansi-red-intense-fg ansi-bold"># extra_args &gt; 0</span>

<span class="ansi-green-intense-fg ansi-bold">C:\Programs\Python\Python39\lib\site-packages\sklearn\utils\validation.py</span> in <span class="ansi-cyan-fg">check_array</span><span class="ansi-blue-intense-fg ansi-bold">(array, accept_sparse, accept_large_sparse, dtype, order, copy, force_all_finite, ensure_2d, allow_nd, ensure_min_samples, ensure_min_features, estimator)</span>
<span class="ansi-green-fg">    671</span>                     array <span class="ansi-yellow-intense-fg ansi-bold">=</span> array<span class="ansi-yellow-intense-fg ansi-bold">.</span>astype<span class="ansi-yellow-intense-fg ansi-bold">(</span>dtype<span class="ansi-yellow-intense-fg ansi-bold">,</span> casting<span class="ansi-yellow-intense-fg ansi-bold">=</span><span class="ansi-blue-intense-fg ansi-bold">&#34;unsafe&#34;</span><span class="ansi-yellow-intense-fg ansi-bold">,</span> copy<span class="ansi-yellow-intense-fg ansi-bold">=</span><span class="ansi-green-intense-fg ansi-bold">False</span><span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">    672</span>                 <span class="ansi-green-intense-fg ansi-bold">else</span><span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-intense-fg ansi-bold">--&gt; 673</span><span class="ansi-yellow-intense-fg ansi-bold">                     </span>array <span class="ansi-yellow-intense-fg ansi-bold">=</span> np<span class="ansi-yellow-intense-fg ansi-bold">.</span>asarray<span class="ansi-yellow-intense-fg ansi-bold">(</span>array<span class="ansi-yellow-intense-fg ansi-bold">,</span> order<span class="ansi-yellow-intense-fg ansi-bold">=</span>order<span class="ansi-yellow-intense-fg ansi-bold">,</span> dtype<span class="ansi-yellow-intense-fg ansi-bold">=</span>dtype<span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">    674</span>             <span class="ansi-green-intense-fg ansi-bold">except</span> ComplexWarning <span class="ansi-green-intense-fg ansi-bold">as</span> complex_warning<span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-fg">    675</span>                 raise ValueError(&#34;Complex data not supported\n&#34;

<span class="ansi-green-intense-fg ansi-bold">C:\Programs\Python\Python39\lib\site-packages\numpy\core\_asarray.py</span> in <span class="ansi-cyan-fg">asarray</span><span class="ansi-blue-intense-fg ansi-bold">(a, dtype, order, like)</span>
<span class="ansi-green-fg">    100</span>         <span class="ansi-green-intense-fg ansi-bold">return</span> _asarray_with_like<span class="ansi-yellow-intense-fg ansi-bold">(</span>a<span class="ansi-yellow-intense-fg ansi-bold">,</span> dtype<span class="ansi-yellow-intense-fg ansi-bold">=</span>dtype<span class="ansi-yellow-intense-fg ansi-bold">,</span> order<span class="ansi-yellow-intense-fg ansi-bold">=</span>order<span class="ansi-yellow-intense-fg ansi-bold">,</span> like<span class="ansi-yellow-intense-fg ansi-bold">=</span>like<span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">    101</span> 
<span class="ansi-green-intense-fg ansi-bold">--&gt; 102</span><span class="ansi-yellow-intense-fg ansi-bold">     </span><span class="ansi-green-intense-fg ansi-bold">return</span> array<span class="ansi-yellow-intense-fg ansi-bold">(</span>a<span class="ansi-yellow-intense-fg ansi-bold">,</span> dtype<span class="ansi-yellow-intense-fg ansi-bold">,</span> copy<span class="ansi-yellow-intense-fg ansi-bold">=</span><span class="ansi-green-intense-fg ansi-bold">False</span><span class="ansi-yellow-intense-fg ansi-bold">,</span> order<span class="ansi-yellow-intense-fg ansi-bold">=</span>order<span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">    103</span> 
<span class="ansi-green-fg">    104</span> 

<span class="ansi-green-intense-fg ansi-bold">C:\Programs\Python\Python39\lib\site-packages\pandas\core\generic.py</span> in <span class="ansi-cyan-fg">__array__</span><span class="ansi-blue-intense-fg ansi-bold">(self, dtype)</span>
<span class="ansi-green-fg">   1897</span> 
<span class="ansi-green-fg">   1898</span>     <span class="ansi-green-intense-fg ansi-bold">def</span> __array__<span class="ansi-yellow-intense-fg ansi-bold">(</span>self<span class="ansi-yellow-intense-fg ansi-bold">,</span> dtype<span class="ansi-yellow-intense-fg ansi-bold">=</span><span class="ansi-green-intense-fg ansi-bold">None</span><span class="ansi-yellow-intense-fg ansi-bold">)</span> <span class="ansi-yellow-intense-fg ansi-bold">-&gt;</span> np<span class="ansi-yellow-intense-fg ansi-bold">.</span>ndarray<span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-intense-fg ansi-bold">-&gt; 1899</span><span class="ansi-yellow-intense-fg ansi-bold">         </span><span class="ansi-green-intense-fg ansi-bold">return</span> np<span class="ansi-yellow-intense-fg ansi-bold">.</span>asarray<span class="ansi-yellow-intense-fg ansi-bold">(</span>self<span class="ansi-yellow-intense-fg ansi-bold">.</span>_values<span class="ansi-yellow-intense-fg ansi-bold">,</span> dtype<span class="ansi-yellow-intense-fg ansi-bold">=</span>dtype<span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">   1900</span> 
<span class="ansi-green-fg">   1901</span>     def __array_wrap__(

<span class="ansi-green-intense-fg ansi-bold">C:\Programs\Python\Python39\lib\site-packages\numpy\core\_asarray.py</span> in <span class="ansi-cyan-fg">asarray</span><span class="ansi-blue-intense-fg ansi-bold">(a, dtype, order, like)</span>
<span class="ansi-green-fg">    100</span>         <span class="ansi-green-intense-fg ansi-bold">return</span> _asarray_with_like<span class="ansi-yellow-intense-fg ansi-bold">(</span>a<span class="ansi-yellow-intense-fg ansi-bold">,</span> dtype<span class="ansi-yellow-intense-fg ansi-bold">=</span>dtype<span class="ansi-yellow-intense-fg ansi-bold">,</span> order<span class="ansi-yellow-intense-fg ansi-bold">=</span>order<span class="ansi-yellow-intense-fg ansi-bold">,</span> like<span class="ansi-yellow-intense-fg ansi-bold">=</span>like<span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">    101</span> 
<span class="ansi-green-intense-fg ansi-bold">--&gt; 102</span><span class="ansi-yellow-intense-fg ansi-bold">     </span><span class="ansi-green-intense-fg ansi-bold">return</span> array<span class="ansi-yellow-intense-fg ansi-bold">(</span>a<span class="ansi-yellow-intense-fg ansi-bold">,</span> dtype<span class="ansi-yellow-intense-fg ansi-bold">,</span> copy<span class="ansi-yellow-intense-fg ansi-bold">=</span><span class="ansi-green-intense-fg ansi-bold">False</span><span class="ansi-yellow-intense-fg ansi-bold">,</span> order<span class="ansi-yellow-intense-fg ansi-bold">=</span>order<span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">    103</span> 
<span class="ansi-green-fg">    104</span> 

<span class="ansi-red-intense-fg ansi-bold">ValueError</span>: could not convert string to float: &#39;Low&#39;</pre>
</div>
</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># the numeric coding required for a random forest. Therefore we call train_cats to convert strinf tp pandas categries.False</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#python has something like this too</span>
<span class="c1"># no change will be seen in the dataframe, it is in the background</span>
<span class="n">train_cats</span><span class="p">(</span><span class="n">df_raw</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_raw</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>SalesID</th>
      <th>SalePrice</th>
      <th>MachineID</th>
      <th>ModelID</th>
      <th>datasource</th>
      <th>auctioneerID</th>
      <th>YearMade</th>
      <th>MachineHoursCurrentMeter</th>
      <th>UsageBand</th>
      <th>fiModelDesc</th>
      <th>...</th>
      <th>saleDay</th>
      <th>saleDayofweek</th>
      <th>saleDayofyear</th>
      <th>saleIs_month_end</th>
      <th>saleIs_month_start</th>
      <th>saleIs_quarter_end</th>
      <th>saleIs_quarter_start</th>
      <th>saleIs_year_end</th>
      <th>saleIs_year_start</th>
      <th>saleElapsed</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1139246</td>
      <td>11.097410</td>
      <td>999089</td>
      <td>3157</td>
      <td>121</td>
      <td>3.0</td>
      <td>2004</td>
      <td>68.0</td>
      <td>Low</td>
      <td>521D</td>
      <td>...</td>
      <td>16</td>
      <td>3</td>
      <td>320</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>1.163635e+09</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1139248</td>
      <td>10.950807</td>
      <td>117657</td>
      <td>77</td>
      <td>121</td>
      <td>3.0</td>
      <td>1996</td>
      <td>4640.0</td>
      <td>Low</td>
      <td>950FII</td>
      <td>...</td>
      <td>26</td>
      <td>4</td>
      <td>86</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>1.080259e+09</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1139249</td>
      <td>9.210340</td>
      <td>434808</td>
      <td>7009</td>
      <td>121</td>
      <td>3.0</td>
      <td>2001</td>
      <td>2838.0</td>
      <td>High</td>
      <td>226</td>
      <td>...</td>
      <td>26</td>
      <td>3</td>
      <td>57</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>1.077754e+09</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1139251</td>
      <td>10.558414</td>
      <td>1026470</td>
      <td>332</td>
      <td>121</td>
      <td>3.0</td>
      <td>2001</td>
      <td>3486.0</td>
      <td>High</td>
      <td>PC120-6E</td>
      <td>...</td>
      <td>19</td>
      <td>3</td>
      <td>139</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>1.305763e+09</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1139253</td>
      <td>9.305651</td>
      <td>1057373</td>
      <td>17311</td>
      <td>121</td>
      <td>3.0</td>
      <td>2007</td>
      <td>722.0</td>
      <td>Medium</td>
      <td>S175</td>
      <td>...</td>
      <td>23</td>
      <td>3</td>
      <td>204</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>1.248307e+09</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 65 columns</p>
</div>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># will treat them as 0 1 2, you </span>
<span class="n">df_raw</span><span class="o">.</span><span class="n">UsageBand</span><span class="o">.</span><span class="n">cat</span><span class="o">.</span><span class="n">categories</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>Index([&#39;High&#39;, &#39;Low&#39;, &#39;Medium&#39;], dtype=&#39;object&#39;)</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_raw</span><span class="o">.</span><span class="n">UsageBand</span><span class="o">.</span><span class="n">cat</span><span class="o">.</span><span class="n">codes</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>0         1
1         1
2         0
3         0
4         2
         ..
401120   -1
401121   -1
401122   -1
401123   -1
401124   -1
Length: 401125, dtype: int8</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#inplace=True - &gt; Instead of creating a new data frame updatres the same one</span>
<span class="n">df_raw</span><span class="o">.</span><span class="n">UsageBand</span><span class="o">.</span><span class="n">cat</span><span class="o">.</span><span class="n">set_categories</span><span class="p">([</span><span class="s1">&#39;High&#39;</span><span class="p">,</span><span class="s1">&#39;Medium&#39;</span><span class="p">,</span><span class="s1">&#39;Low&#39;</span><span class="p">],</span><span class="n">ordered</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1">#get_dummies makes different columns, this one makes one column</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Steps-we-did-so-far">Steps we did so far<a class="anchor-link" href="#Steps-we-did-so-far"> </a></h2><ul>
<li>1- we turned the string to numbers  -&gt; used datasplit and using cats</li>
<li>2- Now we need to make sure we have no null</li>
</ul>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">display_all</span><span class="p">(</span><span class="n">df</span><span class="p">):</span>
    <span class="k">with</span> <span class="n">pd</span><span class="o">.</span><span class="n">option_context</span><span class="p">(</span><span class="s2">&quot;display.max_rows&quot;</span><span class="p">,</span> <span class="mi">1000</span><span class="p">):</span> 
        <span class="k">with</span> <span class="n">pd</span><span class="o">.</span><span class="n">option_context</span><span class="p">(</span><span class="s2">&quot;display.max_columns&quot;</span><span class="p">,</span> <span class="mi">1000</span><span class="p">):</span> 
            <span class="n">display</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">display_all</span><span class="p">(</span><span class="n">df_raw</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">.</span><span class="n">sort_index</span><span class="p">()</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">df_raw</span><span class="p">))</span>
            
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea ">
<pre>Backhoe_Mounting            0.803872
Blade_Extension             0.937129
Blade_Type                  0.800977
Blade_Width                 0.937129
Coupler                     0.466620
Coupler_System              0.891660
Differential_Type           0.826959
Drive_System                0.739829
Enclosure                   0.000810
Enclosure_Type              0.937129
Engine_Horsepower           0.937129
Forks                       0.521154
Grouser_Tracks              0.891899
Grouser_Type                0.752813
Hydraulics                  0.200823
Hydraulics_Flow             0.891899
MachineHoursCurrentMeter    0.644089
MachineID                   0.000000
ModelID                     0.000000
Pad_Type                    0.802720
Pattern_Changer             0.752651
ProductGroup                0.000000
ProductGroupDesc            0.000000
ProductSize                 0.525460
Pushblock                   0.937129
Ride_Control                0.629527
Ripper                      0.740388
SalePrice                   0.000000
SalesID                     0.000000
Scarifier                   0.937102
Steering_Controls           0.827064
Stick                       0.802720
Stick_Length                0.752651
Thumb                       0.752476
Tip_Control                 0.937129
Tire_Size                   0.763869
Track_Type                  0.752813
Transmission                0.543210
Travel_Controls             0.800975
Turbocharged                0.802720
Undercarriage_Pad_Width     0.751020
UsageBand                   0.826391
YearMade                    0.000000
auctioneerID                0.050199
datasource                  0.000000
fiBaseModel                 0.000000
fiModelDesc                 0.000000
fiModelDescriptor           0.820707
fiModelSeries               0.858129
fiProductClassDesc          0.000000
fiSecondaryDesc             0.342016
saleDay                     0.000000
saleDayofweek               0.000000
saleDayofyear               0.000000
saleElapsed                 0.000000
saleIs_month_end            0.000000
saleIs_month_start          0.000000
saleIs_quarter_end          0.000000
saleIs_quarter_start        0.000000
saleIs_year_end             0.000000
saleIs_year_start           0.000000
saleMonth                   0.000000
saleWeek                    0.000000
saleYear                    0.000000
state                       0.000000
dtype: float64</pre>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Save-the-Data">Save the Data<a class="anchor-link" href="#Save-the-Data"> </a></h2>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">pyarrow</span> <span class="kn">import</span> <span class="n">feather</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># we save it in feather format - </span>
<span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="s1">&#39;tmp&#39;</span><span class="p">,</span><span class="n">exist_ok</span><span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
<span class="n">df_raw</span><span class="o">.</span><span class="n">to_feather</span><span class="p">(</span><span class="s1">&#39;tmp/raw&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_raw</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_feather</span><span class="p">(</span><span class="s1">&#39;tmp/raw&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_raw</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>SalesID</th>
      <th>SalePrice</th>
      <th>MachineID</th>
      <th>ModelID</th>
      <th>datasource</th>
      <th>auctioneerID</th>
      <th>YearMade</th>
      <th>MachineHoursCurrentMeter</th>
      <th>UsageBand</th>
      <th>fiModelDesc</th>
      <th>...</th>
      <th>saleDay</th>
      <th>saleDayofweek</th>
      <th>saleDayofyear</th>
      <th>saleIs_month_end</th>
      <th>saleIs_month_start</th>
      <th>saleIs_quarter_end</th>
      <th>saleIs_quarter_start</th>
      <th>saleIs_year_end</th>
      <th>saleIs_year_start</th>
      <th>saleElapsed</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1139246</td>
      <td>11.097410</td>
      <td>999089</td>
      <td>3157</td>
      <td>121</td>
      <td>3.0</td>
      <td>2004</td>
      <td>68.0</td>
      <td>Low</td>
      <td>521D</td>
      <td>...</td>
      <td>16</td>
      <td>3</td>
      <td>320</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>1.163635e+09</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1139248</td>
      <td>10.950807</td>
      <td>117657</td>
      <td>77</td>
      <td>121</td>
      <td>3.0</td>
      <td>1996</td>
      <td>4640.0</td>
      <td>Low</td>
      <td>950FII</td>
      <td>...</td>
      <td>26</td>
      <td>4</td>
      <td>86</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>1.080259e+09</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1139249</td>
      <td>9.210340</td>
      <td>434808</td>
      <td>7009</td>
      <td>121</td>
      <td>3.0</td>
      <td>2001</td>
      <td>2838.0</td>
      <td>High</td>
      <td>226</td>
      <td>...</td>
      <td>26</td>
      <td>3</td>
      <td>57</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>1.077754e+09</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1139251</td>
      <td>10.558414</td>
      <td>1026470</td>
      <td>332</td>
      <td>121</td>
      <td>3.0</td>
      <td>2001</td>
      <td>3486.0</td>
      <td>High</td>
      <td>PC120-6E</td>
      <td>...</td>
      <td>19</td>
      <td>3</td>
      <td>139</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>1.305763e+09</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1139253</td>
      <td>9.305651</td>
      <td>1057373</td>
      <td>17311</td>
      <td>121</td>
      <td>3.0</td>
      <td>2007</td>
      <td>722.0</td>
      <td>Medium</td>
      <td>S175</td>
      <td>...</td>
      <td>23</td>
      <td>3</td>
      <td>204</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>1.248307e+09</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 65 columns</p>
</div>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># we&#39;ll replace categories with their numeric codes, handle missing continious values, and split the dependent variable into a separate variable</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># actually replace the strings with their numeric codes</span>
<span class="c1"># pull out the dependet variable SalePrice into a separate variable</span>
<span class="c1"># handle missing continious valyes----- using proc_df</span>
<span class="c1"># make a copy of the data frame</span>
<span class="c1"># drop the dependent variable</span>
<span class="c1"># fix missing - if numeric -&gt; if does have missing value, create a boolean column 1 anytime missingre</span>
<span class="c1"># replace the missing with median</span>
<span class="c1"># for categies - panda sets missing variables to -1</span>
<span class="c1"># df, y = proc_df(df_raw,&#39;SalePrice&#39;)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_text output_error">
<pre>
<span class="ansi-red-intense-fg ansi-bold">---------------------------------------------------------------------------</span>
<span class="ansi-red-intense-fg ansi-bold">ValueError</span>                                Traceback (most recent call last)
<span class="ansi-green-intense-fg ansi-bold">&lt;ipython-input-144-f68b2fa695c9&gt;</span> in <span class="ansi-cyan-fg">&lt;module&gt;</span>
<span class="ansi-green-fg">      8</span> <span class="ansi-red-intense-fg ansi-bold"># replace the missing with median</span>
<span class="ansi-green-fg">      9</span> <span class="ansi-red-intense-fg ansi-bold"># for categies - panda sets missing variables to -1</span>
<span class="ansi-green-intense-fg ansi-bold">---&gt; 10</span><span class="ansi-yellow-intense-fg ansi-bold"> </span>df<span class="ansi-yellow-intense-fg ansi-bold">,</span> y <span class="ansi-yellow-intense-fg ansi-bold">=</span> proc_df<span class="ansi-yellow-intense-fg ansi-bold">(</span>df_raw<span class="ansi-yellow-intense-fg ansi-bold">,</span><span class="ansi-blue-intense-fg ansi-bold">&#39;SalePrice&#39;</span><span class="ansi-yellow-intense-fg ansi-bold">)</span>

<span class="ansi-red-intense-fg ansi-bold">ValueError</span>: too many values to unpack (expected 2)</pre>
</div>
</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="p">,</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">proc_df</span><span class="p">(</span><span class="n">df_raw</span><span class="p">,</span> <span class="s1">&#39;SalePrice&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">columns</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>Index([&#39;SalesID&#39;, &#39;MachineID&#39;, &#39;ModelID&#39;, &#39;datasource&#39;, &#39;auctioneerID&#39;,
       &#39;YearMade&#39;, &#39;MachineHoursCurrentMeter&#39;, &#39;UsageBand&#39;, &#39;fiModelDesc&#39;,
       &#39;fiBaseModel&#39;, &#39;fiSecondaryDesc&#39;, &#39;fiModelSeries&#39;, &#39;fiModelDescriptor&#39;,
       &#39;ProductSize&#39;, &#39;fiProductClassDesc&#39;, &#39;state&#39;, &#39;ProductGroup&#39;,
       &#39;ProductGroupDesc&#39;, &#39;Drive_System&#39;, &#39;Enclosure&#39;, &#39;Forks&#39;, &#39;Pad_Type&#39;,
       &#39;Ride_Control&#39;, &#39;Stick&#39;, &#39;Transmission&#39;, &#39;Turbocharged&#39;,
       &#39;Blade_Extension&#39;, &#39;Blade_Width&#39;, &#39;Enclosure_Type&#39;, &#39;Engine_Horsepower&#39;,
       &#39;Hydraulics&#39;, &#39;Pushblock&#39;, &#39;Ripper&#39;, &#39;Scarifier&#39;, &#39;Tip_Control&#39;,
       &#39;Tire_Size&#39;, &#39;Coupler&#39;, &#39;Coupler_System&#39;, &#39;Grouser_Tracks&#39;,
       &#39;Hydraulics_Flow&#39;, &#39;Track_Type&#39;, &#39;Undercarriage_Pad_Width&#39;,
       &#39;Stick_Length&#39;, &#39;Thumb&#39;, &#39;Pattern_Changer&#39;, &#39;Grouser_Type&#39;,
       &#39;Backhoe_Mounting&#39;, &#39;Blade_Type&#39;, &#39;Travel_Controls&#39;,
       &#39;Differential_Type&#39;, &#39;Steering_Controls&#39;, &#39;saleYear&#39;, &#39;saleMonth&#39;,
       &#39;saleWeek&#39;, &#39;saleDay&#39;, &#39;saleDayofweek&#39;, &#39;saleDayofyear&#39;,
       &#39;saleIs_month_end&#39;, &#39;saleIs_month_start&#39;, &#39;saleIs_quarter_end&#39;,
       &#39;saleIs_quarter_start&#39;, &#39;saleIs_year_end&#39;, &#39;saleIs_year_start&#39;,
       &#39;saleElapsed&#39;, &#39;auctioneerID_na&#39;, &#39;MachineHoursCurrentMeter_na&#39;],
      dtype=&#39;object&#39;)</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>SalesID</th>
      <th>MachineID</th>
      <th>ModelID</th>
      <th>datasource</th>
      <th>auctioneerID</th>
      <th>YearMade</th>
      <th>MachineHoursCurrentMeter</th>
      <th>UsageBand</th>
      <th>fiModelDesc</th>
      <th>fiBaseModel</th>
      <th>...</th>
      <th>saleDayofyear</th>
      <th>saleIs_month_end</th>
      <th>saleIs_month_start</th>
      <th>saleIs_quarter_end</th>
      <th>saleIs_quarter_start</th>
      <th>saleIs_year_end</th>
      <th>saleIs_year_start</th>
      <th>saleElapsed</th>
      <th>auctioneerID_na</th>
      <th>MachineHoursCurrentMeter_na</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1139246</td>
      <td>999089</td>
      <td>3157</td>
      <td>121</td>
      <td>3.0</td>
      <td>2004</td>
      <td>68.0</td>
      <td>3</td>
      <td>950</td>
      <td>296</td>
      <td>...</td>
      <td>320</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>1.163635e+09</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1139248</td>
      <td>117657</td>
      <td>77</td>
      <td>121</td>
      <td>3.0</td>
      <td>1996</td>
      <td>4640.0</td>
      <td>3</td>
      <td>1725</td>
      <td>527</td>
      <td>...</td>
      <td>86</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>1.080259e+09</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1139249</td>
      <td>434808</td>
      <td>7009</td>
      <td>121</td>
      <td>3.0</td>
      <td>2001</td>
      <td>2838.0</td>
      <td>1</td>
      <td>331</td>
      <td>110</td>
      <td>...</td>
      <td>57</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>1.077754e+09</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1139251</td>
      <td>1026470</td>
      <td>332</td>
      <td>121</td>
      <td>3.0</td>
      <td>2001</td>
      <td>3486.0</td>
      <td>1</td>
      <td>3674</td>
      <td>1375</td>
      <td>...</td>
      <td>139</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>1.305763e+09</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1139253</td>
      <td>1057373</td>
      <td>17311</td>
      <td>121</td>
      <td>3.0</td>
      <td>2007</td>
      <td>722.0</td>
      <td>2</td>
      <td>4208</td>
      <td>1529</td>
      <td>...</td>
      <td>204</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>1.248307e+09</td>
      <td>False</td>
      <td>False</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 66 columns</p>
</div>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">y</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>{&#39;auctioneerID&#39;: 2.0, &#39;MachineHoursCurrentMeter&#39;: 0.0}</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># the score is R square 1 is very good and r is very bad</span>
<span class="c1"># next we need to use some other dataset to test this</span>
<span class="n">m</span> <span class="o">=</span> <span class="n">RandomForestRegressor</span><span class="p">(</span><span class="n">n_jobs</span><span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">df</span><span class="p">,</span><span class="n">x</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">score</span><span class="p">(</span><span class="n">df</span><span class="p">,</span><span class="n">x</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>0.9881746598683774</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">split_vals</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">n</span><span class="p">):</span> <span class="k">return</span> <span class="n">a</span><span class="p">[:</span><span class="n">n</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">(),</span> <span class="n">a</span><span class="p">[</span><span class="n">n</span><span class="p">:]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="n">n_valid</span> <span class="o">=</span> <span class="mi">12000</span>  <span class="c1"># same as Kaggle&#39;s test set size</span>
<span class="n">n_trn</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">)</span><span class="o">-</span><span class="n">n_valid</span>

<span class="n">raw_train</span><span class="p">,</span> <span class="n">raw_valid</span> <span class="o">=</span> <span class="n">split_vals</span><span class="p">(</span><span class="n">df_raw</span><span class="p">,</span> <span class="n">n_trn</span><span class="p">)</span>
<span class="n">X_train</span><span class="p">,</span> <span class="n">X_valid</span> <span class="o">=</span> <span class="n">split_vals</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">n_trn</span><span class="p">)</span>
<span class="n">y_train</span><span class="p">,</span> <span class="n">y_valid</span> <span class="o">=</span> <span class="n">split_vals</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">n_trn</span><span class="p">)</span>

<span class="n">X_train</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="n">y_train</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="n">X_valid</span><span class="o">.</span><span class="n">shape</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>((389125, 66), (389125,), (12000, 66))</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">rmse</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">):</span> <span class="k">return</span> <span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(((</span><span class="n">x</span><span class="o">-</span><span class="n">y</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">())</span>

<span class="k">def</span> <span class="nf">print_score</span><span class="p">(</span><span class="n">m</span><span class="p">):</span> 
    <span class="n">res</span> <span class="o">=</span> <span class="p">[</span><span class="n">rmse</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_train</span><span class="p">),</span> <span class="n">y_train</span><span class="p">),</span> <span class="n">rmse</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_valid</span><span class="p">),</span> <span class="n">y_valid</span><span class="p">),</span>
                <span class="n">m</span><span class="o">.</span><span class="n">score</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">),</span> <span class="n">m</span><span class="o">.</span><span class="n">score</span><span class="p">(</span><span class="n">X_valid</span><span class="p">,</span> <span class="n">y_valid</span><span class="p">)]</span>
    <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="s1">&#39;oob_score_&#39;</span><span class="p">):</span> <span class="n">res</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">oob_score_</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="n">RandomForestRegressor</span><span class="p">(</span><span class="n">n_jobs</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
<span class="o">%</span><span class="k">time</span> m.fit(X_train, y_train)
<span class="n">print_score</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Wall time: 1min 37s
[0.0756750874062741, 0.2352499050894546, 0.9880314734210563, 0.9011658827282231]
</pre>
</div>
</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Speeding-things-up">Speeding things up<a class="anchor-link" href="#Speeding-things-up"> </a></h2>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span> 
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_trn</span><span class="p">,</span> <span class="n">y_trn</span><span class="p">,</span> <span class="n">x_trn</span> <span class="o">=</span> <span class="n">proc_df</span><span class="p">(</span><span class="n">df_raw</span><span class="p">,</span><span class="s1">&#39;SalePrice&#39;</span><span class="p">)</span>

<span class="n">X_train</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">split_vals</span> <span class="p">(</span><span class="n">df_trn</span><span class="p">,</span> <span class="mi">20000</span><span class="p">)</span>
<span class="n">y_train</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">split_vals</span> <span class="p">(</span><span class="n">y_trn</span><span class="p">,</span> <span class="mi">20000</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">x_trn</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>{&#39;auctioneerID&#39;: 2.0, &#39;MachineHoursCurrentMeter&#39;: 0.0}</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="n">RandomForestRegressor</span><span class="p">(</span><span class="n">n_jobs</span><span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="o">%</span><span class="k">time</span> m.fit(X_train, y_train)
<span class="n">print_score</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Wall time: 4.76 s
[0.08641229166422504, 0.3221901413038917, 0.9849049040255403, 0.8146159060977014]
</pre>
</div>
</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Single-Tree">Single Tree<a class="anchor-link" href="#Single-Tree"> </a></h2>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="n">RandomForestRegressor</span><span class="p">(</span><span class="n">n_estimators</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">max_depth</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span><span class="n">bootstrap</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">n_jobs</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>
<span class="n">print_score</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>[0.4965829795739235, 0.5246832258551819, 0.5014961773561586, 0.5083655198087903]
</pre>
</div>
</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># os.environ[&quot;PATH&quot;] += os.pathsep + &#39;C:/Program Files/Graphviz/bin/&#39;</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">draw_tree</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">estimators_</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">df_trn</span><span class="p">,</span><span class="n">precision</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_svg output_subarea ">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
&lt;!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"&gt;
<!-- Generated by graphviz version 2.47.3 (20210619.1520)
 -->
<!-- Title: Tree Pages: 1 -->
<svg width="720pt" height="434pt" viewBox="0.00 0.00 720.00 434.49" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(0.78 0.78) rotate(0) translate(4 554)">
<title>Tree</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-554 920.67,-554 920.67,4 -4,4" />
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<polygon fill="#eda674" stroke="black" points="171.17,-336.5 28.17,-336.5 28.17,-268.5 171.17,-268.5 171.17,-336.5" />
<text text-anchor="start" x="36.17" y="-321.3" font-family="Times New Roman,serif" font-size="14.00">Coupler_System ≤ 0.5</text>
<text text-anchor="start" x="64.67" y="-306.3" font-family="Times New Roman,serif" font-size="14.00">mse = 0.495</text>
<text text-anchor="start" x="52.17" y="-291.3" font-family="Times New Roman,serif" font-size="14.00">samples = 20000</text>
<text text-anchor="start" x="58.67" y="-276.3" font-family="Times New Roman,serif" font-size="14.00">value = 10.189</text>
</g>
<!-- 1 -->
<g id="node2" class="node">
<title>1</title>
<polygon fill="#eb9c63" stroke="black" points="394.17,-372.5 283.17,-372.5 283.17,-304.5 394.17,-304.5 394.17,-372.5" />
<text text-anchor="start" x="294.67" y="-357.3" font-family="Times New Roman,serif" font-size="14.00">Enclosure ≤ 2.0</text>
<text text-anchor="start" x="303.67" y="-342.3" font-family="Times New Roman,serif" font-size="14.00">mse = 0.414</text>
<text text-anchor="start" x="291.17" y="-327.3" font-family="Times New Roman,serif" font-size="14.00">samples = 16815</text>
<text text-anchor="start" x="297.67" y="-312.3" font-family="Times New Roman,serif" font-size="14.00">value = 10.345</text>
</g>
<!-- 0&#45;&gt;1 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;1</title>
<path fill="none" stroke="black" d="M171.45,-313.25C203.7,-318.15 241.61,-323.91 273.07,-328.69" />
<polygon fill="black" stroke="black" points="272.63,-332.16 283.04,-330.2 273.68,-325.24 272.63,-332.16" />
<text text-anchor="middle" x="262.91" y="-341.32" font-family="Times New Roman,serif" font-size="14.00">True</text>
</g>
<!-- 8 -->
<g id="node9" class="node">
<title>8</title>
<polygon fill="#f8dfcd" stroke="black" points="402.17,-245.5 275.17,-245.5 275.17,-177.5 402.17,-177.5 402.17,-245.5" />
<text text-anchor="start" x="283.17" y="-230.3" font-family="Times New Roman,serif" font-size="14.00">YearMade ≤ 1999.5</text>
<text text-anchor="start" x="303.67" y="-215.3" font-family="Times New Roman,serif" font-size="14.00">mse = 0.109</text>
<text text-anchor="start" x="294.67" y="-200.3" font-family="Times New Roman,serif" font-size="14.00">samples = 3185</text>
<text text-anchor="start" x="300.67" y="-185.3" font-family="Times New Roman,serif" font-size="14.00">value = 9.363</text>
</g>
<!-- 0&#45;&gt;8 -->
<g id="edge8" class="edge">
<title>0&#45;&gt;8</title>
<path fill="none" stroke="black" d="M171.45,-275.32C201.12,-263.93 235.57,-250.7 265.38,-239.25" />
<polygon fill="black" stroke="black" points="266.81,-242.46 274.89,-235.6 264.3,-235.92 266.81,-242.46" />
<text text-anchor="middle" x="252.05" y="-221.74" font-family="Times New Roman,serif" font-size="14.00">False</text>
</g>
<!-- 2 -->
<g id="node3" class="node">
<title>2</title>
<polygon fill="#f0b68d" stroke="black" points="659.17,-486.5 540.17,-486.5 540.17,-418.5 659.17,-418.5 659.17,-486.5" />
<text text-anchor="start" x="548.17" y="-471.3" font-family="Times New Roman,serif" font-size="14.00">ModelID ≤ 4573.0</text>
<text text-anchor="start" x="564.67" y="-456.3" font-family="Times New Roman,serif" font-size="14.00">mse = 0.331</text>
<text text-anchor="start" x="555.67" y="-441.3" font-family="Times New Roman,serif" font-size="14.00">samples = 4400</text>
<text text-anchor="start" x="561.67" y="-426.3" font-family="Times New Roman,serif" font-size="14.00">value = 9.955</text>
</g>
<!-- 1&#45;&gt;2 -->
<g id="edge2" class="edge">
<title>1&#45;&gt;2</title>
<path fill="none" stroke="black" d="M394.28,-362.54C434.1,-380.06 488.31,-403.93 530.9,-422.67" />
<polygon fill="black" stroke="black" points="529.51,-425.89 540.08,-426.71 532.33,-419.48 529.51,-425.89" />
</g>
<!-- 5 -->
<g id="node6" class="node">
<title>5</title>
<polygon fill="#e99254" stroke="black" points="655.17,-372.5 544.17,-372.5 544.17,-304.5 655.17,-304.5 655.17,-372.5" />
<text text-anchor="start" x="555.67" y="-357.3" font-family="Times New Roman,serif" font-size="14.00">Enclosure ≤ 4.5</text>
<text text-anchor="start" x="568.17" y="-342.3" font-family="Times New Roman,serif" font-size="14.00">mse = 0.37</text>
<text text-anchor="start" x="552.17" y="-327.3" font-family="Times New Roman,serif" font-size="14.00">samples = 12415</text>
<text text-anchor="start" x="558.67" y="-312.3" font-family="Times New Roman,serif" font-size="14.00">value = 10.484</text>
</g>
<!-- 1&#45;&gt;5 -->
<g id="edge5" class="edge">
<title>1&#45;&gt;5</title>
<path fill="none" stroke="black" d="M394.28,-338.5C435.08,-338.5 491.01,-338.5 534.04,-338.5" />
<polygon fill="black" stroke="black" points="534.13,-342 544.13,-338.5 534.13,-335 534.13,-342" />
</g>
<!-- 3 -->
<g id="node4" class="node">
<title>3</title>
<polygon fill="#eca470" stroke="black" points="895.67,-550 791.67,-550 791.67,-497 895.67,-497 895.67,-550" />
<text text-anchor="start" x="808.67" y="-534.8" font-family="Times New Roman,serif" font-size="14.00">mse = 0.315</text>
<text text-anchor="start" x="799.67" y="-519.8" font-family="Times New Roman,serif" font-size="14.00">samples = 2002</text>
<text text-anchor="start" x="802.67" y="-504.8" font-family="Times New Roman,serif" font-size="14.00">value = 10.226</text>
</g>
<!-- 2&#45;&gt;3 -->
<g id="edge3" class="edge">
<title>2&#45;&gt;3</title>
<path fill="none" stroke="black" d="M659.25,-469.69C696.36,-480.57 744.26,-494.63 781.8,-505.64" />
<polygon fill="black" stroke="black" points="781.02,-509.06 791.6,-508.52 782.99,-502.34 781.02,-509.06" />
</g>
<!-- 4 -->
<g id="node5" class="node">
<title>4</title>
<polygon fill="#f3c6a5" stroke="black" points="895.67,-479 791.67,-479 791.67,-426 895.67,-426 895.67,-479" />
<text text-anchor="start" x="808.67" y="-463.8" font-family="Times New Roman,serif" font-size="14.00">mse = 0.232</text>
<text text-anchor="start" x="799.67" y="-448.8" font-family="Times New Roman,serif" font-size="14.00">samples = 2398</text>
<text text-anchor="start" x="805.67" y="-433.8" font-family="Times New Roman,serif" font-size="14.00">value = 9.728</text>
</g>
<!-- 2&#45;&gt;4 -->
<g id="edge4" class="edge">
<title>2&#45;&gt;4</title>
<path fill="none" stroke="black" d="M659.25,-452.5C696.2,-452.5 743.85,-452.5 781.32,-452.5" />
<polygon fill="black" stroke="black" points="781.6,-456 791.6,-452.5 781.6,-449 781.6,-456" />
</g>
<!-- 6 -->
<g id="node7" class="node">
<title>6</title>
<polygon fill="#e58139" stroke="black" points="895.67,-408 791.67,-408 791.67,-355 895.67,-355 895.67,-408" />
<text text-anchor="start" x="812.17" y="-392.8" font-family="Times New Roman,serif" font-size="14.00">mse = 0.29</text>
<text text-anchor="start" x="799.67" y="-377.8" font-family="Times New Roman,serif" font-size="14.00">samples = 7193</text>
<text text-anchor="start" x="802.67" y="-362.8" font-family="Times New Roman,serif" font-size="14.00">value = 10.736</text>
</g>
<!-- 5&#45;&gt;6 -->
<g id="edge6" class="edge">
<title>5&#45;&gt;6</title>
<path fill="none" stroke="black" d="M655.28,-348.2C692.77,-354.87 742.59,-363.72 781.43,-370.62" />
<polygon fill="black" stroke="black" points="781.1,-374.12 791.56,-372.42 782.33,-367.22 781.1,-374.12" />
</g>
<!-- 7 -->
<g id="node8" class="node">
<title>7</title>
<polygon fill="#edaa79" stroke="black" points="895.67,-337 791.67,-337 791.67,-284 895.67,-284 895.67,-337" />
<text text-anchor="start" x="808.67" y="-321.8" font-family="Times New Roman,serif" font-size="14.00">mse = 0.272</text>
<text text-anchor="start" x="799.67" y="-306.8" font-family="Times New Roman,serif" font-size="14.00">samples = 5222</text>
<text text-anchor="start" x="802.67" y="-291.8" font-family="Times New Roman,serif" font-size="14.00">value = 10.137</text>
</g>
<!-- 5&#45;&gt;7 -->
<g id="edge7" class="edge">
<title>5&#45;&gt;7</title>
<path fill="none" stroke="black" d="M655.28,-332.18C692.77,-327.84 742.59,-322.08 781.43,-317.59" />
<polygon fill="black" stroke="black" points="782.03,-321.04 791.56,-316.41 781.23,-314.09 782.03,-321.04" />
</g>
<!-- 9 -->
<g id="node10" class="node">
<title>9</title>
<polygon fill="#fef9f5" stroke="black" points="683.17,-245.5 516.17,-245.5 516.17,-177.5 683.17,-177.5 683.17,-245.5" />
<text text-anchor="start" x="524.17" y="-230.3" font-family="Times New Roman,serif" font-size="14.00">fiProductClassDesc ≤ 40.5</text>
<text text-anchor="start" x="564.67" y="-215.3" font-family="Times New Roman,serif" font-size="14.00">mse = 0.101</text>
<text text-anchor="start" x="558.67" y="-200.3" font-family="Times New Roman,serif" font-size="14.00">samples = 468</text>
<text text-anchor="start" x="561.67" y="-185.3" font-family="Times New Roman,serif" font-size="14.00">value = 8.988</text>
</g>
<!-- 8&#45;&gt;9 -->
<g id="edge9" class="edge">
<title>8&#45;&gt;9</title>
<path fill="none" stroke="black" d="M402.36,-211.5C433.43,-211.5 471.56,-211.5 505.93,-211.5" />
<polygon fill="black" stroke="black" points="505.98,-215 515.98,-211.5 505.98,-208 505.98,-215" />
</g>
<!-- 12 -->
<g id="node13" class="node">
<title>12</title>
<polygon fill="#f7dbc6" stroke="black" points="687.17,-131.5 512.17,-131.5 512.17,-63.5 687.17,-63.5 687.17,-131.5" />
<text text-anchor="start" x="520.17" y="-116.3" font-family="Times New Roman,serif" font-size="14.00">saleElapsed ≤ 1217462400.0</text>
<text text-anchor="start" x="564.67" y="-101.3" font-family="Times New Roman,serif" font-size="14.00">mse = 0.082</text>
<text text-anchor="start" x="555.67" y="-86.3" font-family="Times New Roman,serif" font-size="14.00">samples = 2717</text>
<text text-anchor="start" x="561.67" y="-71.3" font-family="Times New Roman,serif" font-size="14.00">value = 9.427</text>
</g>
<!-- 8&#45;&gt;12 -->
<g id="edge12" class="edge">
<title>8&#45;&gt;12</title>
<path fill="none" stroke="black" d="M402.36,-183.9C435.21,-169.45 475.95,-151.51 511.79,-135.74" />
<polygon fill="black" stroke="black" points="513.53,-138.8 521.27,-131.57 510.71,-132.39 513.53,-138.8" />
</g>
<!-- 10 -->
<g id="node11" class="node">
<title>10</title>
<polygon fill="#ffffff" stroke="black" points="892.67,-266 794.67,-266 794.67,-213 892.67,-213 892.67,-266" />
<text text-anchor="start" x="808.67" y="-250.8" font-family="Times New Roman,serif" font-size="14.00">mse = 0.069</text>
<text text-anchor="start" x="802.67" y="-235.8" font-family="Times New Roman,serif" font-size="14.00">samples = 293</text>
<text text-anchor="start" x="805.67" y="-220.8" font-family="Times New Roman,serif" font-size="14.00">value = 8.896</text>
</g>
<!-- 9&#45;&gt;10 -->
<g id="edge10" class="edge">
<title>9&#45;&gt;10</title>
<path fill="none" stroke="black" d="M683.27,-221.06C716.61,-224.91 754.29,-229.27 784.64,-232.79" />
<polygon fill="black" stroke="black" points="784.29,-236.27 794.63,-233.94 785.1,-229.32 784.29,-236.27" />
</g>
<!-- 11 -->
<g id="node12" class="node">
<title>11</title>
<polygon fill="#fceee4" stroke="black" points="892.67,-195 794.67,-195 794.67,-142 892.67,-142 892.67,-195" />
<text text-anchor="start" x="808.67" y="-179.8" font-family="Times New Roman,serif" font-size="14.00">mse = 0.118</text>
<text text-anchor="start" x="802.67" y="-164.8" font-family="Times New Roman,serif" font-size="14.00">samples = 175</text>
<text text-anchor="start" x="805.67" y="-149.8" font-family="Times New Roman,serif" font-size="14.00">value = 9.143</text>
</g>
<!-- 9&#45;&gt;11 -->
<g id="edge11" class="edge">
<title>9&#45;&gt;11</title>
<path fill="none" stroke="black" d="M683.27,-196.82C716.61,-190.9 754.29,-184.2 784.64,-178.81" />
<polygon fill="black" stroke="black" points="785.4,-182.23 794.63,-177.04 784.17,-175.34 785.4,-182.23" />
</g>
<!-- 13 -->
<g id="node14" class="node">
<title>13</title>
<polygon fill="#f6d4bb" stroke="black" points="895.67,-124 791.67,-124 791.67,-71 895.67,-71 895.67,-124" />
<text text-anchor="start" x="808.67" y="-108.8" font-family="Times New Roman,serif" font-size="14.00">mse = 0.062</text>
<text text-anchor="start" x="799.67" y="-93.8" font-family="Times New Roman,serif" font-size="14.00">samples = 1347</text>
<text text-anchor="start" x="805.67" y="-78.8" font-family="Times New Roman,serif" font-size="14.00">value = 9.529</text>
</g>
<!-- 12&#45;&gt;13 -->
<g id="edge13" class="edge">
<title>12&#45;&gt;13</title>
<path fill="none" stroke="black" d="M687.35,-97.5C718.39,-97.5 752.72,-97.5 781.19,-97.5" />
<polygon fill="black" stroke="black" points="781.4,-101 791.4,-97.5 781.4,-94 781.4,-101" />
</g>
<!-- 14 -->
<g id="node15" class="node">
<title>14</title>
<polygon fill="#f9e1d1" stroke="black" points="895.67,-53 791.67,-53 791.67,0 895.67,0 895.67,-53" />
<text text-anchor="start" x="808.67" y="-37.8" font-family="Times New Roman,serif" font-size="14.00">mse = 0.081</text>
<text text-anchor="start" x="799.67" y="-22.8" font-family="Times New Roman,serif" font-size="14.00">samples = 1370</text>
<text text-anchor="start" x="805.67" y="-7.8" font-family="Times New Roman,serif" font-size="14.00">value = 9.328</text>
</g>
<!-- 12&#45;&gt;14 -->
<g id="edge14" class="edge">
<title>12&#45;&gt;14</title>
<path fill="none" stroke="black" d="M687.35,-72.07C718.53,-62.92 753.02,-52.8 781.57,-44.43" />
<polygon fill="black" stroke="black" points="782.79,-47.71 791.4,-41.54 780.82,-41 782.79,-47.71" />
</g>
</g>
</svg>

</div>

</div>

</div>
</div>

</div>
    

</div>



  </div><a class="u-url" href="/notebookposts/2021/11/06/ML1.html" hidden></a>
</article>
      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/notebookposts/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col">
        <p class="feed-subscribe">
          <a href="/notebookposts/feed.xml">
            <svg class="svg-icon orange">
              <use xlink:href="/notebookposts/assets/minima-social-icons.svg#rss"></use>
            </svg><span>Subscribe</span>
          </a>
        </p>
      </div>
      <div class="footer-col">
        <p>blogging with jupyter notebooks</p>
      </div>
    </div>

    <div class="social-links"><ul class="social-media-list"></ul>
</div>

  </div>

</footer>
</body>

</html>
